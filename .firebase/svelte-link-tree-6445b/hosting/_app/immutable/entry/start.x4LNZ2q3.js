import{o as $e,t as ke}from"../chunks/scheduler.QFVCaXZV.js";import{S as ft,a as ut,b as dt,H as V,N as B,r as ne,o as xe,c as H,P as Pe,f as nt,g as Oe,d as pe,i as Ae,s as Fe,e as G,h as rt,j as Et}from"../chunks/singletons.NouJJTJ9.js";import{U as pt,N as St,P as $t,a as kt,b as ht,H as xt,p as Pt,u as Ot}from"../chunks/parse.RrI1B0B4.js";new URL("sveltekit-internal://");function At(e,o){return e==="/"||o==="ignore"?e:o==="never"?e.endsWith("/")?e.slice(0,-1):e:o==="always"&&!e.endsWith("/")?e+"/":e}function Rt(e){return e.split("%25").map(decodeURI).join("%25")}function jt(e){for(const o in e)e[o]=decodeURIComponent(e[o]);return e}function Re({href:e}){return e.split("#")[0]}const It=["href","pathname","search","toString","toJSON"];function Lt(e,o,a){const i=new URL(e);Object.defineProperty(i,"searchParams",{value:new Proxy(i.searchParams,{get(l,d){if(d==="get"||d==="getAll"||d==="has")return h=>(a(h),l[d](h));o();const m=Reflect.get(l,d);return typeof m=="function"?m.bind(l):m}}),enumerable:!0,configurable:!0});for(const l of It)Object.defineProperty(i,l,{get(){return o(),e[l]},enumerable:!0,configurable:!0});return Tt(i),i}function Tt(e){Object.defineProperty(e,"hash",{get(){throw new Error("Cannot access event.url.hash. Consider using `$page.url.hash` inside a component instead")}})}const Nt="/__data.json",Ut=".html__data.json";function Ct(e){return e.endsWith(".html")?e.replace(/\.html$/,Ut):e.replace(/\/$/,"")+Nt}function Dt(...e){let o=5381;for(const a of e)if(typeof a=="string"){let i=a.length;for(;i;)o=o*33^a.charCodeAt(--i)}else if(ArrayBuffer.isView(a)){const i=new Uint8Array(a.buffer,a.byteOffset,a.byteLength);let l=i.length;for(;l;)o=o*33^i[--l]}else throw new TypeError("value must be a string or TypedArray");return(o>>>0).toString(36)}let qe=0;const _t=window.fetch;function Ft(){qe+=1}function Ht(){qe-=1}{let e=!1;(async()=>{e=new Error().stack.includes("check_stack_trace")})(),window.fetch=(a,i)=>{const l=a instanceof Request?a.url:a.toString(),d=new Error().stack.split(`
`),m=d.findIndex(w=>w.includes("load@")||w.includes("at load")),h=d.slice(0,m+2).join(`
`),b=e?h.includes("src/runtime/client/client.js"):qe,c=i?.__sveltekit_fetch__;return b&&!c&&console.warn(`Loading ${l} using \`window.fetch\`. For best results, use the \`fetch\` that is passed to your \`load\` function: https://kit.svelte.dev/docs/load#making-fetch-requests`),(a instanceof Request?a.method:i?.method||"GET")!=="GET"&&oe.delete(Me(a)),_t(a,i)}}const oe=new Map;function qt(e){const o=atob(e),a=new Uint8Array(o.length);for(let i=0;i<o.length;i++)a[i]=o.charCodeAt(i);return a.buffer}function Mt(e,o){const a=Me(e,o),i=document.querySelector(a);if(i?.textContent){let{body:l,...d}=JSON.parse(i.textContent);const m=i.getAttribute("data-ttl");return m&&oe.set(a,{body:l,init:d,ttl:1e3*Number(m)}),i.getAttribute("data-b64")!==null&&(l=qt(l)),Promise.resolve(new Response(l,d))}return gt(e,o)}function Vt(e,o,a){if(oe.size>0){const i=Me(e,a),l=oe.get(i);if(l){if(performance.now()<l.ttl&&["default","force-cache","only-if-cached",void 0].includes(a?.cache))return new Response(l.body,l.init);oe.delete(i)}}return gt(o,a)}function gt(e,o){const a={...o};return Object.defineProperty(a,"__sveltekit_fetch__",{value:!0,writable:!0,configurable:!0}),window.fetch(e,a)}function Me(e,o){let i=`script[data-sveltekit-fetched][data-url=${JSON.stringify(e instanceof Request?e.url:e)}]`;if(o?.headers||o?.body){const l=[];o.headers&&l.push([...new Headers(o.headers)].join(",")),o.body&&(typeof o.body=="string"||ArrayBuffer.isView(o.body))&&l.push(o.body),i+=`[data-hash="${Dt(...l)}"]`}return i}const Gt=/^(\[)?(\.\.\.)?(\w+)(?:=(\w+))?(\])?$/;function Kt(e){const o=[];return{pattern:e==="/"?/^\/$/:new RegExp(`^${Bt(e).map(i=>{const l=/^\[\.\.\.(\w+)(?:=(\w+))?\]$/.exec(i);if(l)return o.push({name:l[1],matcher:l[2],optional:!1,rest:!0,chained:!0}),"(?:/(.*))?";const d=/^\[\[(\w+)(?:=(\w+))?\]\]$/.exec(i);if(d)return o.push({name:d[1],matcher:d[2],optional:!0,rest:!1,chained:!0}),"(?:/([^/]+))?";if(!i)return;const m=i.split(/\[(.+?)\](?!\])/);return"/"+m.map((b,c)=>{if(c%2){if(b.startsWith("x+"))return je(String.fromCharCode(parseInt(b.slice(2),16)));if(b.startsWith("u+"))return je(String.fromCharCode(...b.slice(2).split("-").map(x=>parseInt(x,16))));const _=Gt.exec(b);if(!_)throw new Error(`Invalid param: ${b}. Params and matcher names can only have underscores and alphanumeric characters.`);const[,w,L,P,O]=_;return o.push({name:P,matcher:O,optional:!!w,rest:!!L,chained:L?c===1&&m[0]==="":!1}),L?"(.*?)":w?"([^/]*)?":"([^/]+?)"}return je(b)}).join("")}).join("")}/?$`),params:o}}function zt(e){return!/^\([^)]+\)$/.test(e)}function Bt(e){return e.slice(1).split("/").filter(zt)}function Jt(e,o,a){const i={},l=e.slice(1),d=l.filter(h=>h!==void 0);let m=0;for(let h=0;h<o.length;h+=1){const b=o[h];let c=l[h-m];if(b.chained&&b.rest&&m&&(c=l.slice(h-m,h+1).filter(_=>_).join("/"),m=0),c===void 0){b.rest&&(i[b.name]="");continue}if(!b.matcher||a[b.matcher](c)){i[b.name]=c;const _=o[h+1],w=l[h+1];_&&!_.rest&&_.optional&&w&&b.chained&&(m=0),!_&&!w&&Object.keys(i).length===d.length&&(m=0);continue}if(b.optional&&b.chained){m++;continue}return}if(!m)return i}function je(e){return e.normalize().replace(/[[\]]/g,"\\$&").replace(/%/g,"%25").replace(/\//g,"%2[Ff]").replace(/\?/g,"%3[Ff]").replace(/#/g,"%23").replace(/[.*+?^${}()|\\]/g,"\\$&")}function Wt({nodes:e,server_loads:o,dictionary:a,matchers:i}){const l=new Set(o);return Object.entries(a).map(([h,[b,c,_]])=>{const{pattern:w,params:L}=Kt(h),P={id:h,exec:O=>{const x=w.exec(O);if(x)return Jt(x,L,i)},errors:[1,..._||[]].map(O=>e[O]),layouts:[0,...c||[]].map(m),leaf:d(b)};return P.errors.length=P.layouts.length=Math.max(P.errors.length,P.layouts.length),P});function d(h){const b=h<0;return b&&(h=~h),[b,e[h]]}function m(h){return h===void 0?h:[l.has(h),e[h]]}}function Ve(e,o=JSON.parse){try{return o(sessionStorage[e])}catch{}}function Ie(e,o,a=JSON.stringify){const i=a(o);try{sessionStorage[e]=i}catch{}}class Le extends Error{constructor(o,a){super(o),this.name="DevalueError",this.path=a.join("")}}function at(e){return Object(e)!==e}const Yt=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Xt(e){const o=Object.getPrototypeOf(e);return o===Object.prototype||o===null||Object.getOwnPropertyNames(o).sort().join("\0")===Yt}function Zt(e){return Object.prototype.toString.call(e).slice(8,-1)}function Qt(e){switch(e){case'"':return'\\"';case"<":return"\\u003C";case"\\":return"\\\\";case`
`:return"\\n";case"\r":return"\\r";case"	":return"\\t";case"\b":return"\\b";case"\f":return"\\f";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return e<" "?`\\u${e.charCodeAt(0).toString(16).padStart(4,"0")}`:""}}function X(e){let o="",a=0;const i=e.length;for(let l=0;l<i;l+=1){const d=e[l],m=Qt(d);m&&(o+=e.slice(a,l)+m,a=l+1)}return`"${a===0?e:o+e.slice(a)}"`}function Te(e,o){const a=[],i=new Map,l=[];for(const c in o)l.push({key:c,fn:o[c]});const d=[];let m=0;function h(c){if(typeof c=="function")throw new Le("Cannot stringify a function",d);if(i.has(c))return i.get(c);if(c===void 0)return pt;if(Number.isNaN(c))return St;if(c===1/0)return $t;if(c===-1/0)return kt;if(c===0&&1/c<0)return ht;const _=m++;i.set(c,_);for(const{key:L,fn:P}of l){const O=P(c);if(O)return a[_]=`["${L}",${h(O)}]`,_}let w="";if(at(c))w=Ne(c);else switch(Zt(c)){case"Number":case"String":case"Boolean":w=`["Object",${Ne(c)}]`;break;case"BigInt":w=`["BigInt",${c}]`;break;case"Date":w=`["Date","${c.toISOString()}"]`;break;case"RegExp":const{source:P,flags:O}=c;w=O?`["RegExp",${X(P)},"${O}"]`:`["RegExp",${X(P)}]`;break;case"Array":w="[";for(let x=0;x<c.length;x+=1)x>0&&(w+=","),x in c?(d.push(`[${x}]`),w+=h(c[x]),d.pop()):w+=xt;w+="]";break;case"Set":w='["Set"';for(const x of c)w+=`,${h(x)}`;w+="]";break;case"Map":w='["Map"';for(const[x,D]of c)d.push(`.get(${at(x)?Ne(x):"..."})`),w+=`,${h(x)},${h(D)}`;w+="]";break;default:if(!Xt(c))throw new Le("Cannot stringify arbitrary non-POJOs",d);if(Object.getOwnPropertySymbols(c).length>0)throw new Le("Cannot stringify POJOs with symbolic keys",d);if(Object.getPrototypeOf(c)===null){w='["null"';for(const x in c)d.push(`.${x}`),w+=`,${X(x)},${h(c[x])}`,d.pop();w+="]"}else{w="{";let x=!1;for(const D in c)x&&(w+=","),x=!0,d.push(`.${D}`),w+=`${X(D)}:${h(c[D])}`,d.pop();w+="}"}}return a[_]=w,_}const b=h(e);return b<0?`${b}`:`[${a.join(",")}]`}function Ne(e){const o=typeof e;return o==="string"?X(e):e instanceof String?X(e.toString()):e===void 0?pt.toString():e===0&&1/e<0?ht.toString():o==="bigint"?`["BigInt","${e}"]`:String(e)}function en(e){function o(a,i){if(a)for(const l in a){if(l[0]==="_"||e.has(l))continue;const d=[...e.values()],m=tn(l,i?.slice(i.lastIndexOf(".")))??`valid exports are ${d.join(", ")}, or anything with a '_' prefix`;throw new Error(`Invalid export '${l}'${i?` in ${i}`:""} (${m})`)}}return o}function tn(e,o=".js"){const a=[];if(Ge.has(e)&&a.push(`+layout${o}`),mt.has(e)&&a.push(`+page${o}`),yt.has(e)&&a.push(`+layout.server${o}`),nn.has(e)&&a.push(`+page.server${o}`),rn.has(e)&&a.push(`+server${o}`),a.length>0)return`'${e}' is a valid export in ${a.slice(0,-1).join(", ")}${a.length>1?" or ":""}${a.at(-1)}`}const Ge=new Set(["load","prerender","csr","ssr","trailingSlash","config"]),mt=new Set([...Ge,"entries"]),yt=new Set([...Ge]),nn=new Set([...yt,"actions","entries"]),rn=new Set(["GET","POST","PATCH","PUT","DELETE","OPTIONS","HEAD","fallback","prerender","trailingSlash","config","entries"]),an=en(mt);function on(e){return e.filter(o=>o!=null)}class _e{constructor(o,a){this.status=o,typeof a=="string"?this.body={message:a}:a?this.body=a:this.body={message:`Error: ${o}`}}toString(){return JSON.stringify(this.body)}}class ot{constructor(o,a){this.status=o,this.location=a}}class Ke extends Error{constructor(o,a,i){super(i),this.status=o,this.text=a}}function sn(e,o){const a=/^(moz-icon|view-source|jar):/.exec(o);a&&console.warn(`${e}: Calling \`depends('${o}')\` will throw an error in Firefox because \`${a[1]}\` is a special URI scheme`)}const Ue="x-sveltekit-invalidated",cn="x-sveltekit-trailing-slash";function he(e){return e instanceof _e||e instanceof Ke?e.status:500}function ln(e){return e instanceof Ke?e.text:"Internal Error"}const W=Ve(ft)??{},re=Ve(ut,Pt)??{},se=Ve(dt)??{},He=history.pushState,ae=history.replaceState;{let e=!1;const o=()=>{e||(e=!0,console.warn("Avoid using `history.pushState(...)` and `history.replaceState(...)` as these will conflict with SvelteKit's router. Use the `pushState` and `replaceState` imports from `$app/navigation` instead."))};history.pushState=(...a)=>(o(),He.apply(history,a)),history.replaceState=(...a)=>(o(),ae.apply(history,a))}function Ce(e){W[e]=Fe()}function st(e,o){let a=e+1;for(;W[a];)delete W[a],a+=1;for(a=o+1;se[a];)delete se[a],a+=1}function J(e){return location.href=e.href,new Promise(()=>{})}function it(){}function fn(e,o){const a=Wt(e),i=e.nodes[0],l=e.nodes[1];i(),l();const d=document.documentElement,m=[],h=[];let b=null;const c={before_navigate:[],on_navigate:[],after_navigate:[]};let _={branch:[],error:null,url:null},w=!1,L=!1,P=!0,O=!1,x=!1,D=!1,Z=!1,ie=!1,q,T=history.state?.[V],F=history.state?.[B];T||(T=F=Date.now(),ae.call(history,{...history.state,[V]:T,[B]:F},"",location.href));const ge=W[T];ge&&(history.scrollRestoration="manual",scrollTo(ge.x,ge.y));let j,Y,me;async function ze(){if(await(me||=Promise.resolve()),!me)return;me=null;const n=ee(_.url,!0);b=null;const t=Y={},r=n&&await ve(n);t===Y&&(r&&(r.type==="redirect"?await ce(new URL(r.location,_.url).href,{},1,t):(r.props.page!==void 0&&(j=r.props.page),q.$set(r.props))),m.length=0)}function Be(n){h.some(t=>t?.snapshot)&&(se[n]=h.map(t=>t?.snapshot?.capture()))}function Je(n){se[n]?.forEach((t,r)=>{h[r]?.snapshot?.restore(t)})}function We(){Ce(T),Ie(ft,W),Be(F),Ie(dt,se),Ie(ut,re,Te)}async function ce(n,t,r,s){return ue({type:"goto",url:ne(n),keepfocus:t.keepFocus,noscroll:t.noScroll,replace_state:t.replaceState,redirect_count:r,nav_token:s,accept:()=>{t.invalidateAll&&(ie=!0)}})}async function Ye(n){return b={id:n.id,promise:ve(n).then(t=>(t.type==="loaded"&&t.state.error&&(b=null),t))},b.promise}async function le(n){const t=a.find(r=>r.exec(be(n)));t&&await Promise.all([...t.layouts,t.leaf].map(r=>r?.[1]()))}function Xe(n){if(n.state.error&&document.querySelector("vite-error-overlay"))return;_=n.state;const t=document.querySelector("style[data-sveltekit]");t&&t.remove(),j=n.props.page,q=new e.root({target:o,props:{...n.props,stores:G,components:h},hydrate:!0}),Je(F);const r={from:null,to:{params:_.params,route:{id:_.route?.id??null},url:new URL(location.href)},willUnload:!1,type:"enter",complete:Promise.resolve()};c.after_navigate.forEach(s=>s(r)),L=!0}async function Q({url:n,params:t,branch:r,status:s,error:f,route:u,form:p}){let g="never";for(const E of r)E?.slash!==void 0&&(g=E.slash);n.pathname=At(n.pathname,g),n.search=n.search;const S={type:"loaded",state:{url:n,params:t,branch:r,error:f,route:u},props:{constructors:on(r).map(E=>E.node.component),page:j}};p!==void 0&&(S.props.form=p);let y={},A=!j,I=0;for(let E=0;E<Math.max(r.length,_.branch.length);E+=1){const $=r[E],N=_.branch[E];$?.data!==N?.data&&(A=!0),$&&(y={...y,...$.data},A&&(S.props[`data_${I}`]=y),I+=1)}return(!_.url||n.href!==_.url.href||_.error!==f||p!==void 0&&p!==j.form||A)&&(S.props.page={error:f,params:t,route:{id:u?.id??null},state:{},status:s,url:new URL(n),form:p??null,data:A?y:j.data}),S}async function ye({loader:n,parent:t,url:r,params:s,route:f,server_data_node:u}){let p=null,g=!0;const S={dependencies:new Set,params:new Set,parent:!1,route:!1,url:!1,search_params:new Set},y=await n();if(an(y.universal),y.universal?.load){let A=function(...v){for(const E of v){sn(f.id,E);const{href:$}=new URL(E,r);S.dependencies.add($)}};const I={route:new Proxy(f,{get:(v,E)=>(g&&(S.route=!0),v[E])}),params:new Proxy(s,{get:(v,E)=>(g&&S.params.add(E),v[E])}),data:u?.data??null,url:Lt(r,()=>{g&&(S.url=!0)},v=>{g&&S.search_params.add(v)}),async fetch(v,E){let $;v instanceof Request?($=v.url,E={body:v.method==="GET"||v.method==="HEAD"?void 0:await v.blob(),cache:v.cache,credentials:v.credentials,headers:v.headers,integrity:v.integrity,keepalive:v.keepalive,method:v.method,mode:v.mode,redirect:v.redirect,referrer:v.referrer,referrerPolicy:v.referrerPolicy,signal:v.signal,...E}):$=v;const N=new URL($,r);return g&&A(N.href),N.origin===r.origin&&($=N.href.slice(r.origin.length)),L?Vt($,N.href,E):Mt($,E)},setHeaders:()=>{},depends:A,parent(){return g&&(S.parent=!0),t()},untrack(v){g=!1;try{return v()}finally{g=!0}}};try{if(Ft(),p=await y.universal.load.call(null,I)??null,p!=null&&Object.getPrototypeOf(p)!==Object.prototype)throw new Error(`a load function related to route '${f.id}' returned ${typeof p!="object"?`a ${typeof p}`:p instanceof Response?"a Response object":Array.isArray(p)?"an array":"a non-plain object"}, but must return a plain object at the top level (i.e. \`return {...}\`)`)}finally{Ht()}}return{node:y,loader:n,server:u,universal:y.universal?.load?{type:"data",data:p,uses:S}:null,data:p??u?.data??null,slash:r.pathname===H||r.pathname===H+"/"?"always":y.universal?.trailingSlash??u?.slash}}function Ze(n,t,r,s,f,u){if(ie)return!0;if(!f)return!1;if(f.parent&&n||f.route&&t||f.url&&r)return!0;for(const p of f.search_params)if(s.has(p))return!0;for(const p of f.params)if(u[p]!==_.params[p])return!0;for(const p of f.dependencies)if(m.some(g=>g(new URL(p))))return!0;return!1}function we(n,t){return n?.type==="data"?n:n?.type==="skip"?t??null:null}function vt(n,t){if(!n)return new Set(t.searchParams.keys());const r=new Set([...n.searchParams.keys(),...t.searchParams.keys()]);for(const s of r){const f=n.searchParams.getAll(s),u=t.searchParams.getAll(s);f.every(p=>u.includes(p))&&u.every(p=>f.includes(p))&&r.delete(s)}return r}async function ve({id:n,invalidating:t,url:r,params:s,route:f}){if(b?.id===n)return b.promise;const{errors:u,layouts:p,leaf:g}=f,S=[...p,g];u.forEach(k=>k?.().catch(()=>{})),S.forEach(k=>k?.[1]().catch(()=>{}));let y=null;const A=_.url?n!==_.url.pathname+_.url.search:!1,I=_.route?f.id!==_.route.id:!1,v=vt(_.url,r);let E=!1;const $=S.map((k,R)=>{const U=_.branch[R],C=!!k?.[0]&&(U?.loader!==k[1]||Ze(E,I,A,v,U.server?.uses,s));return C&&(E=!0),C});if($.some(Boolean)){try{y=await ct(r,$)}catch(k){return fe({status:he(k),error:await te(k,{url:r,params:s,route:{id:f.id}}),url:r,route:f})}if(y.type==="redirect")return y}const N=y?.nodes;let M=!1;const K=S.map(async(k,R)=>{if(!k)return;const U=_.branch[R],C=N?.[R];if((!C||C.type==="skip")&&k[1]===U?.loader&&!Ze(M,I,A,v,U.universal?.uses,s))return U;if(M=!0,C?.type==="error")throw C;return ye({loader:k[1],url:r,params:s,route:f,parent:async()=>{const Ee={};for(let Se=0;Se<R;Se+=1)Object.assign(Ee,(await K[Se])?.data);return Ee},server_data_node:we(C===void 0&&k[0]?{type:"skip"}:C??null,k[0]?U?.server:void 0)})});for(const k of K)k.catch(()=>{});const z=[];for(let k=0;k<S.length;k+=1)if(S[k])try{z.push(await K[k])}catch(R){if(R instanceof ot)return{type:"redirect",location:R.location};let U=he(R),C;if(N?.includes(R))U=R.status??U,C=R.error;else if(R instanceof _e)C=R.body;else{if(await G.updated.check())return await J(r);C=await te(R,{params:s,url:r,route:{id:f.id}})}const de=await Qe(k,z,u);return de?await Q({url:r,params:s,branch:z.slice(0,de.idx).concat(de.node),status:U,error:C,route:f}):await tt(r,{id:f.id},C,U)}else z.push(void 0);return await Q({url:r,params:s,branch:z,status:200,error:null,route:f,form:t?void 0:null})}async function Qe(n,t,r){for(;n--;)if(r[n]){let s=n;for(;!t[s];)s-=1;try{return{idx:s+1,node:{node:await r[n](),loader:r[n],data:{},server:null,universal:null}}}catch{continue}}}async function fe({status:n,error:t,url:r,route:s}){const f={};let u=null;if(e.server_loads[0]===0)try{const y=await ct(r,[!0]);if(y.type!=="data"||y.nodes[0]&&y.nodes[0].type!=="data")throw 0;u=y.nodes[0]??null}catch{(r.origin!==xe||r.pathname!==location.pathname||w)&&await J(r)}const g=await ye({loader:i,url:r,params:f,route:s,parent:()=>Promise.resolve({}),server_data_node:we(u)}),S={node:await l(),loader:l,universal:null,server:null,data:null};return await Q({url:r,params:f,branch:[g,S],status:n,error:t,route:null})}function ee(n,t){if(Ae(n,H))return;const r=be(n.pathname);for(const s of a){const f=s.exec(r);if(f)return{id:n.pathname+n.search,invalidating:t,route:s,params:jt(f),url:n}}}function be(n){return Rt(n.slice(H.length)||"/")}function et({url:n,type:t,intent:r,delta:s}){let f=!1;const u=lt(_,r,n,t);s!==void 0&&(u.navigation.delta=s);const p={...u.navigation,cancel:()=>{f=!0,u.reject(new Error("navigation was cancelled"))}};return x||c.before_navigate.forEach(g=>g(p)),f?null:u}async function ue({type:n,url:t,popped:r,keepfocus:s,noscroll:f,replace_state:u,redirect_count:p=0,nav_token:g={},accept:S=it,block:y=it}){const A=ee(t,!1),I=et({url:t,type:n,delta:r?.delta,intent:A});if(!I){y();return}const v=T,E=F;S(),x=!0,L&&G.navigating.set(I.navigation),Y=g;let $=A&&await ve(A);if(!$){if(Ae(t,H))return await J(t);$=await tt(t,{id:null},await te(new Ke(404,"Not Found",`Not found: ${t.pathname}`),{url:t,params:{},route:{id:null}}),404)}if(t=A?.url||t,Y!==g)return I.reject(new Error("navigation was aborted")),!1;if($.type==="redirect")if(p>=20)$=await fe({status:500,error:await te(new Error("Redirect loop"),{url:t,params:{},route:{id:null}}),url:t,route:{id:null}});else return ce(new URL($.location,t).href,{},p+1,g),!1;else $.props.page.status>=400&&await G.updated.check()&&await J(t);m.length=0,ie=!1,O=!0,Ce(v),Be(E),$.props.page.url.pathname!==t.pathname&&(t.pathname=$.props.page.url.pathname);const N=r?r.state:{};if(!r){const k=u?0:1,R={[V]:T+=k,[B]:F+=k};(u?ae:He).call(history,R,"",t),u||st(T,F)}if(re[T]=N,b=null,$.props.page.state=N,L){_=$.state,$.props.page&&($.props.page.url=t);const k=(await Promise.all(c.on_navigate.map(R=>R(I.navigation)))).filter(R=>typeof R=="function");if(k.length>0){let R=function(){c.after_navigate=c.after_navigate.filter(U=>!k.includes(U))};k.push(R),c.after_navigate.push(...k)}q.$set($.props),Z=!0}else Xe($);const{activeElement:M}=document;await ke();const K=r?r.scroll:f?Fe():null;if(P){const k=t.hash&&document.getElementById(decodeURIComponent(t.hash.slice(1)));K?scrollTo(K.x,K.y):k?k.scrollIntoView():scrollTo(0,0)}const z=document.activeElement!==M&&document.activeElement!==document.body;!s&&!z&&De(),P=!0,$.props.page&&(j=$.props.page),x=!1,n==="popstate"&&Je(F),I.fulfil(void 0),c.after_navigate.forEach(k=>k(I.navigation)),G.navigating.set(null),O=!1}async function tt(n,t,r,s){if(n.origin===xe&&n.pathname===location.pathname&&!w)return await fe({status:s,error:r,url:n,route:t});if(s!==404){console.error("An error occurred while loading the page. This will cause a full page reload. (This message will only appear during development.)");debugger}return await J(n)}function bt(){let n;d.addEventListener("mousemove",u=>{const p=u.target;clearTimeout(n),n=setTimeout(()=>{s(p,2)},20)});function t(u){s(u.composedPath()[0],1)}d.addEventListener("mousedown",t),d.addEventListener("touchstart",t,{passive:!0});const r=new IntersectionObserver(u=>{for(const p of u)p.isIntersecting&&(le(p.target.href),r.unobserve(p.target))},{threshold:0});function s(u,p){const g=nt(u,d);if(!g)return;const{url:S,external:y,download:A}=Oe(g,H);if(y||A)return;const I=pe(g);if(!I.reload)if(p<=I.preload_data){const v=ee(S,!1);v&&Ye(v).then(E=>{E.type==="loaded"&&E.state.error&&console.warn(`Preloading data for ${v.url.pathname} failed with the following error: ${E.state.error.message}
If this error is transient, you can ignore it. Otherwise, consider disabling preloading for this route. This route was preloaded due to a data-sveltekit-preload-data attribute. See https://kit.svelte.dev/docs/link-options for more info`)})}else p<=I.preload_code&&le(S.pathname)}function f(){r.disconnect();for(const u of d.querySelectorAll("a")){const{url:p,external:g,download:S}=Oe(u,H);if(g||S)continue;const y=pe(u);y.reload||(y.preload_code===rt.viewport&&r.observe(u),y.preload_code===rt.eager&&le(p.pathname))}}c.after_navigate.push(f),f()}function te(n,t){if(n instanceof _e)return n.body;console.warn("The next HMR update will cause the page to reload");const r=he(n),s=ln(n);return e.hooks.handleError({error:n,event:t,status:r,message:s})??{message:s}}return{after_navigate:n=>{$e(()=>(c.after_navigate.push(n),()=>{const t=c.after_navigate.indexOf(n);c.after_navigate.splice(t,1)}))},before_navigate:n=>{$e(()=>(c.before_navigate.push(n),()=>{const t=c.before_navigate.indexOf(n);c.before_navigate.splice(t,1)}))},on_navigate:n=>{$e(()=>(c.on_navigate.push(n),()=>{const t=c.on_navigate.indexOf(n);c.on_navigate.splice(t,1)}))},disable_scroll_handling:()=>{if(L&&!O)throw new Error("Can only disable scroll handling during navigation");(O||!L)&&(P=!1)},goto:(n,t={})=>{if(n=ne(n),t.state)throw new Error("Passing `state` to `goto` is no longer supported. Use `pushState` and `replaceState` from `$app/navigation` instead.");return n.origin!==xe?Promise.reject(new Error(`Cannot use \`goto\` with an external URL. Use \`window.location = "${n}"\` instead`)):ce(n,t,0)},invalidate:n=>{if(typeof n=="function")m.push(n);else{const{href:t}=new URL(n,location.href);m.push(r=>r.href===t)}return ze()},invalidate_all:()=>(ie=!0,ze()),preload_data:async n=>{const t=ne(n),r=ee(t,!1);if(!r)throw new Error(`Attempted to preload a URL that does not belong to this app: ${t}`);const s=await Ye(r);if(s.type==="redirect")return{type:s.type,location:s.location};const{status:f,data:u}=s.props.page??j;return{type:s.type,status:f,data:u}},preload_code:n=>{{if(!n.startsWith(H))throw new Error(`pathnames passed to preloadCode must start with \`paths.base\` (i.e. "${H}${n}" rather than "${n}")`);if(!a.find(t=>t.exec(be(n))))throw new Error(`'${n}' did not match any routes`)}return le(n)},push_state:(n,t)=>{try{Te(t)}catch(s){throw new Error(`Could not serialize state${s.path}`)}const r={[V]:T+=1,[B]:F,[Pe]:j.url.href};He.call(history,r,"",ne(n)),j={...j,state:t},q.$set({page:j}),re[T]=t,st(T,F)},replace_state:(n,t)=>{try{Te(t)}catch(s){throw new Error(`Could not serialize state${s.path}`)}const r={[V]:T,[B]:F,[Pe]:j.url.href};ae.call(history,r,"",ne(n)),j={...j,state:t},q.$set({page:j}),re[T]=t},apply_action:async n=>{if(n.type==="error"){const t=new URL(location.href),{branch:r,route:s}=_;if(!s)return;const f=await Qe(_.branch.length,r,s.errors);if(f){const u=await Q({url:t,params:_.params,branch:r.slice(0,f.idx).concat(f.node),status:n.status??500,error:n.error,route:s});_=u.state,q.$set(u.props),ke().then(De)}}else n.type==="redirect"?ce(n.location,{invalidateAll:!0},0):(q.$set({form:null,page:{...j,form:n.data,status:n.status}}),await ke(),q.$set({form:n.data}),n.type==="success"&&De())},_start_router:()=>{history.scrollRestoration="manual",addEventListener("beforeunload",t=>{let r=!1;if(We(),!x){const s=lt(_,void 0,null,"leave"),f={...s.navigation,cancel:()=>{r=!0,s.reject(new Error("navigation was cancelled"))}};c.before_navigate.forEach(u=>u(f))}r?(t.preventDefault(),t.returnValue=""):history.scrollRestoration="auto"}),addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&We()}),navigator.connection?.saveData||bt(),d.addEventListener("click",t=>{if(t.button||t.which!==1||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.defaultPrevented)return;const r=nt(t.composedPath()[0],d);if(!r)return;const{url:s,external:f,target:u,download:p}=Oe(r,H);if(!s)return;if(u==="_parent"||u==="_top"){if(window.parent!==window)return}else if(u&&u!=="_self")return;const g=pe(r);if(!(r instanceof SVGAElement)&&s.protocol!==location.protocol&&!(s.protocol==="https:"||s.protocol==="http:")||p)return;if(f||g.reload){et({url:s,type:"link"})?x=!0:t.preventDefault();return}const[y,A]=s.href.split("#");if(A!==void 0&&y===Re(location)){if(_.url.hash===s.hash){t.preventDefault(),r.ownerDocument.getElementById(A)?.scrollIntoView();return}if(D=!0,Ce(T),n(s),!g.replace_state)return;D=!1}t.preventDefault(),ue({type:"link",url:s,keepfocus:g.keepfocus,noscroll:g.noscroll,replace_state:g.replace_state??s.href===location.href})}),d.addEventListener("submit",t=>{if(t.defaultPrevented)return;const r=HTMLFormElement.prototype.cloneNode.call(t.target),s=t.submitter;if((s?.formMethod||r.method)!=="get")return;const u=new URL(s?.hasAttribute("formaction")&&s?.formAction||r.action);if(Ae(u,H))return;const p=t.target,g=pe(p);if(g.reload)return;t.preventDefault(),t.stopPropagation();const S=new FormData(p),y=s?.getAttribute("name");y&&S.append(y,s?.getAttribute("value")??""),u.search=new URLSearchParams(S).toString(),ue({type:"form",url:u,keepfocus:g.keepfocus,noscroll:g.noscroll,replace_state:g.replace_state??u.href===location.href})}),addEventListener("popstate",async t=>{if(t.state?.[V]){const r=t.state[V];if(Y={},r===T)return;const s=W[r],f=re[r]??{},u=new URL(t.state[Pe]??location.href),p=t.state[B],g=Re(location)===Re(_.url);if(p===F&&(Z||g)){n(u),W[T]=Fe(),s&&scrollTo(s.x,s.y),f!==j.state&&(j={...j,state:f},q.$set({page:j})),T=r;return}const y=r-T;await ue({type:"popstate",url:u,popped:{state:f,scroll:s,delta:y},accept:()=>{T=r,F=p},block:()=>{history.go(-y)},nav_token:Y})}else if(!D){const r=new URL(location.href);n(r)}}),addEventListener("hashchange",()=>{D&&(D=!1,ae.call(history,{...history.state,[V]:++T,[B]:F},"",location.href))});for(const t of document.querySelectorAll("link"))t.rel==="icon"&&(t.href=t.href);addEventListener("pageshow",t=>{t.persisted&&G.navigating.set(null)});function n(t){_.url=t,G.page.set({...j,url:t}),G.page.notify()}},_hydrate:async({status:n=200,error:t,node_ids:r,params:s,route:f,data:u,form:p})=>{w=!0;const g=new URL(location.href);({params:s={},route:f={id:null}}=ee(g,!1)||{});let S;try{const y=r.map(async(v,E)=>{const $=u[E];return $?.uses&&($.uses=wt($.uses)),ye({loader:e.nodes[v],url:g,params:s,route:f,parent:async()=>{const N={};for(let M=0;M<E;M+=1)Object.assign(N,(await y[M]).data);return N},server_data_node:we($)})}),A=await Promise.all(y),I=a.find(({id:v})=>v===f.id);if(I){const v=I.layouts;for(let E=0;E<v.length;E++)v[E]||A.splice(E,0,void 0)}S=await Q({url:g,params:s,branch:A,status:n,error:t,form:p,route:I??null})}catch(y){if(y instanceof ot){await J(new URL(y.location,location.href));return}S=await fe({status:he(y),error:await te(y,{url:g,params:s,route:f}),url:g,route:f})}S.props.page&&(S.props.page.state={}),Xe(S)}}}async function ct(e,o){const a=new URL(e);if(a.pathname=Ct(e.pathname),e.pathname.endsWith("/")&&a.searchParams.append(cn,"1"),e.searchParams.has(Ue))throw new Error(`Cannot used reserved query parameter "${Ue}"`);a.searchParams.append(Ue,o.map(l=>l?"1":"0").join(""));const i=await _t(a.href);if(i.headers.get("content-type")?.includes("text/html")&&await J(e),!i.ok)throw new _e(i.status,await i.json());return new Promise(async l=>{const d=new Map,m=i.body.getReader(),h=new TextDecoder;function b(_){return Ot(_,{Promise:w=>new Promise((L,P)=>{d.set(w,{fulfil:L,reject:P})})})}let c="";for(;;){const{done:_,value:w}=await m.read();if(_&&!c)break;for(c+=!w&&c?`
`:h.decode(w);;){const L=c.indexOf(`
`);if(L===-1)break;const P=JSON.parse(c.slice(0,L));if(c=c.slice(L+1),P.type==="redirect")return l(P);if(P.type==="data")P.nodes?.forEach(O=>{O?.type==="data"&&(O.uses=wt(O.uses),O.data=b(O.data))}),l(P);else if(P.type==="chunk"){const{id:O,data:x,error:D}=P,Z=d.get(O);d.delete(O),D?Z.reject(b(D)):Z.fulfil(b(x))}}}})}function wt(e){return{dependencies:new Set(e?.dependencies??[]),params:new Set(e?.params??[]),parent:!!e?.parent,route:!!e?.route,url:!!e?.url,search_params:new Set(e?.search_params??[])}}function De(){const e=document.querySelector("[autofocus]");if(e)e.focus();else{const o=document.body,a=o.getAttribute("tabindex");o.tabIndex=-1,o.focus({preventScroll:!0,focusVisible:!1}),a!==null?o.setAttribute("tabindex",a):o.removeAttribute("tabindex");const i=getSelection();if(i&&i.type!=="None"){const l=[];for(let d=0;d<i.rangeCount;d+=1)l.push(i.getRangeAt(d));setTimeout(()=>{if(i.rangeCount===l.length){for(let d=0;d<i.rangeCount;d+=1){const m=l[d],h=i.getRangeAt(d);if(m.commonAncestorContainer!==h.commonAncestorContainer||m.startContainer!==h.startContainer||m.endContainer!==h.endContainer||m.startOffset!==h.startOffset||m.endOffset!==h.endOffset)return}i.removeAllRanges()}})}}}function lt(e,o,a,i){let l,d;const m=new Promise((b,c)=>{l=b,d=c});return m.catch(()=>{}),{navigation:{from:{params:e.params,route:{id:e.route?.id??null},url:e.url},to:a&&{params:o?.params??null,route:{id:o?.route?.id??null},url:a},willUnload:!o,type:i,complete:m},fulfil:l,reject:d}}{const e=console.warn;console.warn=function(...a){a.length===1&&/<(Layout|Page|Error)(_[\w$]+)?> was created (with unknown|without expected) prop '(data|form)'/.test(a[0])||e(...a)}}async function hn(e,o,a){o===document.body&&console.warn(`Placing %sveltekit.body% directly inside <body> is not recommended, as your app may break for users who have certain browser extensions installed.

Consider wrapping it in an element:

<div style="display: contents">
  %sveltekit.body%
</div>`);const i=fn(e,o);Et({client:i}),a?await i._hydrate(a):i.goto(location.href,{replaceState:!0}),i._start_router()}export{hn as start};
